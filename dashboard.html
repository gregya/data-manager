<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Data Manager</title>
<script src="http://mbostock.github.com/d3/d3.js" type="text/javascript" ></script>
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>


<link rel="stylesheet" href="styles.css" />    
    
</head>

<body>
<div id="dash-main">
  <div id="dash-left">
    <div class="dash-widgit">
	<div class="widget-title">Test Results Overview</div>
	<div class="button-row">
		<button class="first active" id="res-today">Today</button><button id="res-week">7 Days</button><button class="last" id="res-month">Month</button>
	</div>
	<div id="results-graph">
		<script src="results-charts.js"></script>
	</div>
    </div>
    <div class="dash-widgit">
	<div class="widget-title">Activity</div>
	<div id="activity-button-row">
		<button class="active" id="recent-activity">Recent</button><button id="custom-activity">Custom</button>
		 
		 <div class="arrow-down-recent" id="arrow-down-recent"></div>
		 <div class="arrow-down-custom" id="arrow-down-custom"></div>
		 
	</div>
	<div id="act-stream"></div>	
    </div>
  </div>
  <div id="dash-right">
    <div class="dash-widgit">
	<div class="widget-title">Alerts</div>
	<div id="alert-graph">
		<script src="alerts-charts.js"></script>
	</div>
    </div>
    <div class="dash-widgit">
	<div class="widget-title">Devices</div>
	<div id="device-menu"><span><img src="green_circle.png" /></span><span class="device-text">LIS</span>
	<span><img src="green_circle.png" /></span><span class="device-text">ADT</span>
	</div>
	<div id="device-graph">
		<script src="devices-charts.js"></script>
	</div>
    </div>
    <div class="dash-widgit">
	<div class="widget-title">Operators</div>
	<div id="operator-graph">
		<script src="operators-charts.js"></script>
	</div>
    </div>
    <div class="dash-widgit">
	<div class="widget-title">QC</div>
	<div class="button-row">
		<button class="active first" id="qc-day">Today</button><button id="qc-week">7 Days</button><button class="last" id="qc-month">Month</button>
	</div>

	<div id="qc-graph">
		<script src="qc-charts.js"></script>
	</div>
	
    </div>
  </div>
</div>

<script type="text/javascript">



$.getJSON('activity.json', function(json) {
    $.each(json, function() {
	$('#act-stream').append('<div></div>');
        $('#act-stream').append('<img src="'+ this.icon +'" />');
	$('#act-stream').append('<span id="act-time"> '+ this.time +' </span>');
	$('#act-stream').append('<span id="act-statement"> '+ this.statement +' </span>');
	if (this.badge != "") {
	$('#act-stream').append('<span id="act-badge"> '+ this.badge +' </span>');
	}
    });
});


$("#recent-activity").click(function() {
  $(this).removeClass('active').addClass('active')
  $("#custom-activity").removeClass('active')
  $('#act-stream').html("");
  $("#arrow-down-recent").css("display" , "block");
  $("#arrow-down-custom").css("display" , "none");
  
$.getJSON('activity.json', function(json) {
    $.each(json, function() {
	$('#act-stream').append('<div></div>');
        $('#act-stream').append('<img src="'+ this.icon +'" />');
	$('#act-stream').append('<span id="act-time"> '+ this.time +' </span>');
	$('#act-stream').append('<span id="act-statement"> '+ this.statement +' </span>');
	if (this.badge != "") {
	$('#act-stream').append('<span id="act-badge"> '+ this.badge +' </span>');
	}
    });
});
  
  
});

$("#custom-activity").click(function() {
  $('#act-stream').html('<div>get custom data</div>');
  $(this).removeClass('active').addClass('active')
  $("#recent-activity").removeClass('active')
  
  $("#arrow-down-recent").css("display" , "none");
  $("#arrow-down-custom").css("display" , "block");
  
  
  $('#act-stream').html("");
  
$.getJSON('custom.json', function(json) {
    $.each(json, function() {
	$('#act-stream').append('<div></div>');
	$('#act-stream').append('<span id="cust-message"> '+ this.message +' </span>');
	$('#act-stream').append('<span id="cust-count"> '+ this.count +' </span>');
	
    });
});
  
});


</script>
</body>
</html>
